<div class="container mx-auto p-4">
  <div class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Compare PDF and XLSX</h2>
    <div class="space-y-4">
      <div>
        <label class="block mb-2">Select PDF File:</label>
        <input type="file" (change)="onPdfFileSelected($event)" accept=".pdf" class="border p-2">
      </div>
      <div>
        <label class="block mb-2">Select XLSX File:</label>
        <input type="file" (change)="onXlsxFileSelected($event)" accept=".xlsx" class="border p-2">
      </div>
      <button (click)="compareXlsxPdf()" 
              [disabled]="!selectedPdfFile || !selectedXlsxFile || loading"
              class="bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-400">
        Compare PDF and XLSX
      </button>
    </div>
  </div>

  <div class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Compare Two PDFs</h2>
    <div class="space-y-4">
      <div>
        <label class="block mb-2">Select First PDF:</label>
        <input type="file" (change)="onPdfFileSelected($event)" accept=".pdf" class="border p-2">
      </div>
      <div>
        <label class="block mb-2">Select Second PDF:</label>
        <input type="file" (change)="onPdfFile2Selected($event)" accept=".pdf" class="border p-2">
      </div>
      <button (click)="comparePdfPdf()" 
              [disabled]="!selectedPdfFile || !selectedPdfFile2 || loading"
              class="bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-400">
        Compare PDFs
      </button>
    </div>
  </div>

  <div *ngIf="errorMessage" class="text-red-500 mt-4">
    {{ errorMessage }}
  </div>

  <div *ngIf="loading" class="mt-4">
    Loading...
  </div>

  <div *ngIf="comparisonResult" class="mt-4">
    <h3 class="text-xl font-bold mb-2">Comparison Results:</h3>
    <pre class="bg-gray-100 p-4 rounded">{{ comparisonResult | json }}</pre>
    <img *ngIf="comparisonResult.encoded_image" 
         [src]="'data:image/png;base64,' + comparisonResult.encoded_image" 
         alt="Comparison visualization"
         class="mt-4 max-w-full">
  </div>
</div>
